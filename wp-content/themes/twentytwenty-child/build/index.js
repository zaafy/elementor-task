(()=>{"use strict";const e=window.wp.element,t=window.wp.components,l=window.wp.blockEditor,{__}=wp.i18n,{compose:n}=wp.compose,{withSelect:a,withDispatch:o}=wp.data,{PluginDocumentSettingPanel:r}=wp.editPost,{ToggleControl:i,TextControl:c,PanelRow:s,ResponsiveWrapper:u}=wp.components,m=n([a((e=>({postMeta:e("core/editor").getEditedPostAttribute("meta"),postType:e("core/editor").getCurrentPostType()}))),o((e=>({setPostMeta(t){e("core/editor").editPost({meta:t})}})))])((n=>{let{postType:a,postMeta:o,setPostMeta:u}=n;return"emt_products"!==a?null:(0,e.createElement)(r,{title:__("Product Settings","emt_task_domain"),icon:"edit",initialOpen:"true"},(0,e.createElement)(s,null,(0,e.createElement)(c,{label:__("Product price","emt_task_domain"),value:o._price,onChange:e=>u({_price:e})})),(0,e.createElement)("br",null),(0,e.createElement)(s,null,(0,e.createElement)(i,{label:__("Is product on sale?","emt_task_domain"),onChange:e=>u({_is_on_sale:e}),checked:o._is_on_sale})),(0,e.createElement)(s,null,(0,e.createElement)(c,{label:__("Sale price","emt_task_domain"),value:o._sale_price,onChange:e=>u({_sale_price:e})})),(0,e.createElement)(s,null,(0,e.createElement)(c,{label:__("YouTube video ID","emt_task_domain"),value:o._youtube_video,onChange:e=>u({_youtube_video:e})})),(0,e.createElement)(s,null,(0,e.createElement)("h4",null,__("Product Gallery","emt_task_domain"))),(0,e.createElement)(s,null,o._gallery_urls.length>0&&o._gallery_urls.split(",").map((t=>(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:t,width:"75px",height:"75px"}))))),(0,e.createElement)(s,null,(0,e.createElement)(l.MediaUploadCheck,null,(0,e.createElement)(l.MediaUpload,{gallery:!0,addToGallery:!0,onSelect:e=>{let t=[];e.forEach((e=>{t.push(e.id)})),t=t.join(),u({_gallery:t});let l=[];e.forEach((e=>{l.push(e.sizes.thumbnail.url)})),l=l.join(),u({_gallery_urls:l})},value:o._gallery.split(","),multiple:!0,render:l=>{let{open:n}=l;return(0,e.createElement)(t.Button,{className:"button media-button button-primary button-large media-button-insert",onClick:n},"Open Media Library")}}))))})),{registerPlugin:p}=wp.plugins;p("my-custom-postmeta-plugin",{render:()=>(0,e.createElement)(m,null)})})();